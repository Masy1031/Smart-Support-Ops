# Smart Support Ops: サポート業務を加速するAIプラットフォーム

## 1. プロジェクト概要

「Smart Support Ops」は、サポートエンジニアの業務を効率化し、顧客対応の品質向上を目指す統合プラットフォームです。主に以下の2つの機能を提供します。

1.  **💡 Intelligent Resolver (賢い解決アシスタント)**
    *   過去のドキュメント、エラーログ、製品仕様書など、さまざまな知識ベースを検索します。
    *   お客様からの問い合わせに対して、AIが最適な回答と、その回答の「確信度」（信頼性）を提示します。
    *   これにより、サポートエンジニアは素早く正確な情報に基づいた対応が可能になります。

2.  **📊 Insight Dashboard (改善提案ダッシュボード)**
    *   AIの回答で解決できなかった（確信度が低かった、または「未解決」と評価された）質問を自動的に集計します。
    *   次に作成すべきFAQや、改善が必要なドキュメントを提案し、知識ベースの継続的な強化をサポートします。

## 2. ターゲットユーザー

*   **主な利用者:** サポートエンジニア（少人数で多くの問い合わせに対応するチームに最適です）
*   **二次利用者:** プロダクトマネージャー（顧客の課題を製品改善に活かすためのインサイトを得られます）

## 3. 技術スタック（技術者向け参考情報）

このアプリケーションは以下の技術を使用して構築されていますが、ご利用にあたってこれらの知識は不要です。

*   **フロントエンド/バックエンド:** Python, Streamlit
*   **大規模言語モデル (LLM):** OpenAI API (gpt-4o)
*   **検索拡張生成 (RAG) フレームワーク:** LlamaIndex
*   **ベクトルデータベース:** ChromaDB (ローカルでの高速検索用)
*   **データ処理:** Pandas
*   **データ可視化:** Streamlit Native Charts
*   **環境管理:** python-dotenv

## 4. アプリケーションの始め方

### 前提条件

*   Python 3.10 以上がインストールされていること
*   `pip` (Pythonのパッケージインストーラー) が利用できること

### ステップバイステップガイド

1.  **依存ライブラリのインストール**
    プロジェクトのフォルダを開き、ターミナル（コマンドプロンプトやPowerShellなど）で以下のコマンドを実行します。
    ```bash
    pip install -r requirements.txt
    ```

2.  **OpenAI API Keyの設定**
    AI機能を利用するために、OpenAIのAPI Keyが必要です。
    以下のいずれかの方法で設定してください。

    *   **推奨: `.env` ファイルでの設定**
        プロジェクトのルートディレクトリに `.env` という名前の新しいファイルを作成し、以下の内容を記述してAPIキーを保存します。
        （`your_openai_api_key_here` の部分を実際のAPIキーに置き換えてください。）
        ```
        OPENAI_API_KEY="your_openai_api_key_here"
        ```
        この方法は、APIキーを安全に管理するために最も推奨されます。

    *   **アプリ起動後にサイドバーで入力**
        もし `.env` ファイルが設定されていない場合でも、アプリ起動後に画面左側のサイドバーにAPIキーの入力欄が表示されます。そこに直接入力することも可能です。

3.  **ダミーデータの準備（初回のみ、開発者向け）**
    RAG機能の動作確認のために、サンプルドキュメント（仕様書、エラーログ、FAQなど）が必要です。
    以下のコマンドを実行すると、`data/source_docs` フォルダにダミーデータが作成されます。
    ```bash
    python generate_dummy_data.py
    ```

4.  **アプリケーションの起動**
    準備が整ったら、ターミナルで以下のコマンドを実行してアプリケーションを起動します。
    ```bash
    streamlit run app.py
    ```
    コマンドを実行すると、自動的にWebブラウザが開き、アプリケーションの画面が表示されます。

## 5. アプリケーションの使い方

### A. 問い合わせ対応 (Intelligent Resolver) ページ

このページでは、お客様からの問い合わせやエラーログに対してAIが回答を生成します。

1.  **問い合わせ内容の入力:**
    「問い合わせ内容またはエラーログを入力してください」というテキストエリアに、質問やエラーの詳細を入力します。

2.  **AIへの依頼:**
    「AIに回答を依頼する」ボタンをクリックします。

3.  **AI回答の確認:**
    *   **AI回答:** AIが生成した自然言語での回答が表示されます。
    *   **確信度スコア:** 回答の信頼度が「高」「中」「低」またはパーセンテージで表示されます。このスコアは、回答の参考にしてください。
    *   **参照ソース:** AIが回答を生成する際に参考にしたドキュメント名と、そのドキュメント内の関連するテキストの一部が表示されます。根拠を確認できます。

4.  **フィードバックの提供:**
    AIの回答が役に立った場合や、さらに改善が必要な場合にフィードバックを記録できます。
    *   **「解決（Good）」ボタン:** 回答で問題が解決した場合にクリックします。ログに「解決済み」として記録されます。
    *   **「未解決（Bad）」ボタン:** 回答で問題が解決しなかった場合にクリックします。ログに「要改善」として記録され、開発チームへのエスカレーションに使える「Issueテンプレート」が表示されます。

### B. 分析ダッシュボード (Insight Dashboard) ページ

このページでは、これまでの問い合わせログを分析し、サポート業務の改善に役立つインサイトを提供します。

1.  **主要KPIの確認:**
    *   **累計問い合わせ数:** アプリで処理された総問い合わせ数。
    *   **自動解決率:** 「解決（Good）」と評価された問い合わせの割合。
    *   **確信度別問い合わせ数:** AIの確信度（高/中/低）ごとの問い合わせ数の分布グラフ。

2.  **改善提案リスト:**
    *   「回答スコアが低かった、またはBad評価の質問」として、AIの確信度が「低」だったり、「未解決（Bad）」と評価された質問の一覧が表示されます。
    *   これらの質問は、既存のドキュメントが不足しているか、AIの回答ロジックの改善が必要な可能性を示唆しています。今後のFAQ作成やドキュメント改善のヒントとしてご活用ください。

## 6. ログファイル（開発・トラブルシューティング向け）

アプリケーションの動作中に発生した情報やエラーは、`data/logs/app.log` ファイルに記録されます。もしアプリが期待通りに動作しないなどの問題が発生した場合、このログファイルは原因特定のための重要な情報源となります。開発者や技術サポート担当者が問題を調査する際に役立ちます。

